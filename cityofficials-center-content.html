        <div class="row center-content">
            <div class="filter-column">
                <div class="filters">
                    <div class="filter-text clearfix">
                            <p class="filter-list-title">Search by Name</p>
                        <input type="text" id="text-input" class="filter-text-input" />
                        <!-- <button class="go-button" onClick="activateTextSearch()">Go</button>
                        <button class="go-button float-right" onClick="clearFilters()">Clear Filters</button> -->
                    </div>
                    <div class="filter-list">
                        <p class="filter-list-title">Filter by Date</p>
                        <div class="silder-box">
                            <div id="slider-range"></div>
                            <div id="slider-container"></div>
                        </div> 
                        <p class="label-container">
                            <label type="text" id="date-slider" />
                        </p>
                        <button class="go-button" onclick="dateButton()">Go</button>
                        <button class="go-button float-right" onClick="clearFilters()">Clear Filters</button>
                    </div>
                    <p class="filter-list-title">Filter by Position</p>
                    <ul class="filter-list" id="pos-list">
                        <li class="filter">
                            <input type="checkbox" value="Alderman" class="filter-pos" id="filter-pos-ald" />
                            <label for="filter-pos-ald">Aldermen</label>
                        </li>
                        <li class="filter">
                            <input type="checkbox" value="City Clerk" class="filter-pos" id="filter-pos-clerk" />
                            <label for="filter-pos-clerk">City Clerks</label>
                        </li>
                        <li class="filter">
                            <input type="checkbox" value="City Treasurer" class="filter-pos" id="filter-pos-clerk" />
                            <label for="filter-pos-clerk">City Treaurers</label>
                        </li>
                        <li class="filter">
                            <input type="checkbox" value="Mayor" class="filter-pos" id="filter-pos-clerk" />
                            <label for="filter-pos-clerk">Mayors</label>
                        </li>
                    </ul>
                    <p class="filter-list-title">Filter by Ward</p>
                    <ul class="filter-list" id="ward-list"></ul>
                </div>
            </div>
            <div class="col aldermen">
                <div class="aldermen-header">
                    <div class="main-content-header clearfix">
                        <h1 class="float-left">Chicago's Elected Officials</h1>
                        <!-- <div class="float-right">
                            <div class="dropdown">
                                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" value="id" aria-haspopup="true" aria-expanded="false">
                                    Sort Results Alphabetically
                                </button>
                                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                    <a class="dropdown-item" href="#">Sort Results Alphabetically</a>
                                    <a class="dropdown-item" href="#">Sort Results by Date</a>
                                </div>
                            </div>
                        </div> -->
                    </div>
                    <p id="ald-header">Please select filters from the left.</p>
                </div>
                <div class="aldermen-target" id="aldermen">
                </div>
            </div>
        </div>
    </div>
<script>
        // globals
            var currYear = new Date().getFullYear(),
                count = 0,
                minDate = 1837,
                maxDate = currYear,
                aldArray = '',
                filterWard = [],
                filterAlpha = [];
            function ordinal_suffix_of(i) {
                var j = i % 10,
                    k = i % 100;
                if (j == 1 && k != 11) {
                    return i + "st";
                }
                if (j == 2 && k != 12) {
                    return i + "nd";
                }
                if (j == 3 && k != 13) {
                    return i + "rd";
                }
                return i + "th";
            }
        // sort aldermen: https://stackoverflow.com/a/17127455/9942821
            jQuery.fn.sortElements = function sortElements(el) {
                $('> ' + el , this[0]).sort(dec_sort).appendTo(this[0]);
                function dec_sort(a, b){ return ($(b).data('sort')) < ($(a).data('sort')) ? 1 : -1; }
            }
        // slider
            $('#slider-container').slider({
                range: true,
                min: minDate,
                max: maxDate,
                values: [minDate, maxDate],
                slide: function (event, ui) {
                    $("#date-slider").empty().append(ui.values[0] + "-" + ui.values[1]);
                    minDate = ui.values[0];
                    maxDate = ui.values[1];
                }
            });
            $("#date-slider").empty().append( minDate + "-" + maxDate);
        // date / text go button
            function dateButton(){
                $('#aldermen').empty();
                drawAldermen();
            }
            function activateTextSearch(){
                input = $('#text-input').val();
                if (input.length > 0 ){
                    drawAldermen();
                }
            }
        // date & text filters
            function filterDate(ald){
                for (var k in ald.positionArray){
                    var endDate;
                    if (ald.positionArray[k].endDate === 'present'){
                        endDate = currYear;
                    } else {
                        endDate = ald.positionArray[k].endDate
                    }
                    if ( parseInt(ald.positionArray[k].startDate) <= maxDate && parseInt(endDate) >= minDate){
                        return true;
                    }
                }
            }
            function filterText(haystack){
                input = $('#text-input').val();
                if (input.indexOf(' ') > -1){
                    var inputArray = input.split(' '),
                        inputArrayCheck = 0;
                    for (var i in inputArray){
                        if ( haystack.name && haystack.name.toUpperCase().indexOf(inputArray[i].toUpperCase().replace(/[|&;$%@"<>()-+,]/g, "")) > -1  ){
                            inputArrayCheck++;
                        }
                    } 
                    if (inputArray.length === inputArrayCheck) {
                        return true;
                    }
                }
                if (( haystack.name && haystack.name.toUpperCase().indexOf(input.toUpperCase()) > -1 ) || input.length < 1 ){
                    return true;
                }
            }
        // text (ward and alpha) filters
            function filterCheckboxes(ald) {
                var alphaCheck = false,
                    wardCheck = false,
                    posCheck = false;
                for (var w in filterWard) {
                    for(var p in ald.positionArray){
                        if (ald.positionArray[p].ward && ald.positionArray[p].ward === filterWard[w]){
                            wardCheck = true;
                        } 
                    }
                }
                for (var pos in filterPos){
                    for(var p in ald.positionArray){
                        if  (ald.positionArray[p].position === filterPos[pos] || 
                            (ald.positionArray[p].position === 'Acting Mayor' && filterPos[pos] === 'Mayor') ||
                            (ald.positionArray[p].position === 'Mayor-elect' && filterPos[pos] === 'Mayor') ||
                            (ald.positionArray[p].position === 'Mayor Pro tem' && filterPos[pos] === 'Mayor') ||
                            (ald.positionArray[p].position === 'City Treasurer (Acting)' && filterPos[pos] === 'City Treasurer')){
                                posCheck = true;
                        }
                    }
                }
                if ( (filterWard.length === 0 || wardCheck === true) && (filterPos.length === 0 || posCheck === true)) {
                    return true;
                } 
            }
        // create HTML
            function drawAlderman(ald){
                var positions = '',
                    lists = '',
                    pic;
                if (ald.cj || ald.refs){
                    lists = '<ul class="alderman-list"><li>' + (ald.cj ? ald.cj + '</li>' : '') + (ald.refs ? 'References: <ul class="alderman-list">' + ald.refs + '</li></ul>' : '') + '</ul>';
                }
                for (var p in ald.positionArray){
                    var ward = '';
                    if (ald.positionArray[p].ward) {
                        ward = ordinal_suffix_of(ald.positionArray[p].ward);
                    }
                    positions += '<div class="alderman-position" data-date="' + ald.positionArray[p].startDate + '">' + ald.positionArray[p].startDate + '-' + ald.positionArray[p].endDate + ' ' + ald.positionArray[p].position + (ald.positionArray[p].position === 'Alderman' ? ', ' + ward + ' Ward' : '') + '</div>';
                }
                // removing pics for now, until we find them
                // aldArray += '<div class="alderman" data-id="'+ ald.id + '" data-date="' + earliestDate + '" id="'+ ald.id + '">' + (ald.pic ? '<img class="float-right alderman-pic" src="150/' + ald.pic + '" alt="">' : '') + '<h2 class="alderman-name">' + ald.name + '</h2>'  + '<div class="positions" id="' + ald.id + '-position">' + positions + '</div>' + lists + '</div>';
                aldArray += '<div class="alderman" data-sort="'+ ald.id + '" id="'+ ald.id + '">' + '<h2 class="alderman-name">' + ald.name + '</h2>'  + '<div class="positions" id="' + ald.id + '-position">' + positions + '</div>' + lists + '</div>';
            
            }
        // master function; gets filters, sends each aldermen to date and text filters
            function drawAldermen(){
                aldArray = [];
                filterAlpha = $('#text-input').val();
                filterWard = $('#ward-list').find(':checkbox:checked').map(function () {
                        return $(this).val();
                    }).get();
                filterPos = $('#pos-list').find(':checkbox:checked').map(function () {
                        return $(this).val();
                    }).get();
                count = 0;
                for (var k in aldermen){
                    if ((( filterWard.length === 0 && filterPos.length === 0) || filterCheckboxes(aldermen[k])) && filterText(aldermen[k]) && filterDate(aldermen[k])){
                        count++
                        drawAlderman(aldermen[k]);
                    }
                }
                if (count >= 500){
                    $('#ald-header').empty().append(count + ' results.  Show anyway? <br /><button class="anyway-button" onclick="appendAldArray()">Ok</button>');
                } else {
                    appendAldArray();
                }
            }
        // puts html in page
            function appendAldArray(){
                $('#aldermen').empty().append(aldArray);
                $('#aldermen').sortElements('div');
                // sorts aldermen positions by start date when there's more than onea 
                $('.positions').each(function(index){
                    if($(this).children().length > 1){
                        $(this).children().sort(dec_sort).appendTo(this);
                        function dec_sort(a, b){ return ($(b).data("date")) < ($(a).data("date")) ? 1 : -1; }
                    }
                });
                $('#ald-header').empty().append(count + " Results.")
                $( 'p:empty' ).remove();
            };
        // change sort type button
            $(function(){
                $(".dropdown-menu").on('click', 'a', function(){
                    $(".btn:first-child").text($(this).text());
                    if ($(".btn:first-child").text().indexOf("Date") > -1 ){
                        $(".btn:first-child").val("date");
                    } else if ($(".btn:first-child").text().indexOf("Alpha") > -1){
                        $(".btn:first-child").val("id");
                    }
                });
            });
        // docready for checkbox changing
            $( document ).ready(function() {
                $('input[type="checkbox"]').on('change', function() {
                    $('#aldermen').empty();
                    // count = 0;
                    drawAldermen();
                });
                $('#text-input').keypress(function(e){
                    if(e.keyCode==13)
                        activateTextSearch();
                });
            });
        // creating checkboxes
            for (var w = 1; w <= 50 ; w++) {
                var newLine = '';
                if (w % 5 === 0){
                    newLine = '<br />'
                }
                $('#ward-list').append(
                    '<li class="filter">\
                        <input type="checkbox" value="' + w + '" id="filter-ward-' + w + '" class="filter-ward" />\
                        <label for="filter-ward-' + w + '" >' + w + '</label>\
                    </li>'
                    + newLine);
            }
        // clearing filters
            function clearFilters() {
                $('#aldermen').empty();
                $('#text-input').val('');
                minDate = 1837;
                maxDate = currYear;
                $('#ald-header').empty().append('Please select filters from the left.');
                $('input[type=checkbox]').prop('checked',false); 
                $('#slider-container').slider('values', 0, minDate);
                $('#slider-container').slider('values', 1, maxDate);
                $("#date-slider").empty().append( minDate + "-" + maxDate);
            }
</script>